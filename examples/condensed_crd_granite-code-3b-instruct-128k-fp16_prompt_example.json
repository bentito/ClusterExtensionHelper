{
  "model": "granite-code:3b-instruct-128k-fp16-v1",
  "messages": [
    {
      "role": "system",
      "content": "You are a Kubernetes expert."
    },
    {
      "role": "user",
      "content": "Definitions:\n\n- **Custom Resource Definition (CRD):** A schema that defines the structure and validation rules for a custom resource in Kubernetes.\n- **Custom Resource (CR):** An instance of a custom resource that must conform to the schema defined by a CRD.\n\nTask:\n\nGiven the following condensed Custom Resource Definition (CRD):\n\n---\napiVersion: apiextensions.k8s.io/v1\nkind: CustomResourceDefinition\nmetadata:\n  name: clusterextensions.olm.operatorframework.io\nspec:\n  group: olm.operatorframework.io\n  names:\n    kind: ClusterExtension\n    listKind: ClusterExtensionList\n    plural: clusterextensions\n    singular: clusterextension\n  scope: Cluster\n  versions:\n  - name: v1alpha1\n    schema:\n      openAPIV3Schema:\n        properties:\n          apiVersion:\n            type: string\n          kind:\n            type: string\n          metadata:\n            type: object\n          spec:\n            properties:\n              install:\n                properties:\n                  namespace:\n                    type: string\n                    maxLength: 63\n                    pattern: \"^[a-z0-9]([-a-z0-9]*[a-z0-9])?$\"\n                  serviceAccount:\n                    properties:\n                      name:\n                        type: string\n                        maxLength: 253\n                        pattern: \"^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$\"\n                    required: [\"name\"]\n                required: [\"namespace\", \"serviceAccount\"]\n              source:\n                properties:\n                  sourceType:\n                    type: string\n                    enum: [\"Catalog\"]\n                  catalog:\n                    properties:\n                      packageName:\n                        type: string\n                        maxLength: 253\n                        pattern: \"^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$\"\n                    required: [\"packageName\"]\n                required: [\"sourceType\"]\n            required: [\"install\", \"source\"]And the following Custom Resource (CR) that may not conform to the CRD:\n\n---\napiVersion: olm.operatorframework.io/v1alpha1\nkind: ClusterExtension\nmetadata:\n  annotations:\n    kubectl.kubernetes.io/last-applied-configuration: |\n      {\"apiVersion\":\"olm.operatorframework.io/v1alpha1\",\"kind\":\"ClusterExtension\",\"metadata\":{\"annotations\":{},\"name\":\"test-extension\"},\"spec\":{\"install\":{\"namespace\":\"test-namespace\",\"serviceAccount\":{\"name\":\"test-sa\"}},\"source\":{\"catalog\":{\"packageName\":null},\"sourceType\":\"Catalog\"}}}\n  managedFields:\n  - apiVersion: olm.operatorframework.io/v1alpha1\n    fieldsType: FieldsV1\n    fieldsV1:\n      f:metadata:\n        f:annotations:\n          .: {}\n          f:kubectl.kubernetes.io/last-applied-configuration: {}\n      f:spec:\n        .: {}\n        f:install:\n          .: {}\n          f:namespace: {}\n          f:serviceAccount:\n            .: {}\n            f:name: {}\n        f:source:\n          .: {}\n          f:catalog:\n            .: {}\n            f:upgradeConstraintPolicy: {}\n          f:sourceType: {}\n    manager: kubectl-client-side-apply\n    operation: Update\n    time: \"2024-11-01T15:31:02Z\"\n  name: test-extension\nspec:\n  install:\n    namespace: test-namespace\n    serviceAccount:\n      name: test-sa\n  source:\n    catalog:\n      upgradeConstraintPolicy: CatalogProvided\n    sourceType: Catalog\n\n---\n\nPlease adjust the CR so that it conforms to the CRD schema.\n\n- Return only the corrected CR in YAML format.\n- Exclude 'annotations', 'managedFields', 'status', and any other unnecessary fields.\n- Do not include any explanations, notes, or additional text.\n- Assume all field values are required."
    }
  ]
}